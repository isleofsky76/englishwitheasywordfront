/// 글 데이터
const articles = [

{
  "date": "August 17th, 2025",
  "title": "Sonny Footballer – LAFC 첫 어시스트",
  "sentences": [
    {
      "korean": "손흥민은 LAFC 이적 후 첫 어시스트를 기록했다.",
      "english": "Son Heung-min made his first assist after moving to LAFC.",
      "hidden": "made"
    },
    {
      "korean": "그는 토트넘 140년 역사에서 가장 많은 어시스트를 기록한 선수이다.",
      "english": "He is the player with the most assists in Tottenham’s 140-year history.",
      "hidden": "the most assists"
    },
    {
      "korean": "그의 패스를 받은 선수가 데뷔 첫 골을 넣었다.",
      "english": "The player who received his pass scored his debut goal.",
      "hidden": "scored"
    },
    {
      "korean": "그 선수는 손흥민이 접시에 음식을 잘 차려주었고 자신은 먹기만 했다고 겸손하게 말했다.",
      "english": "The player humbly said that Son Heung-min had prepared the food on a plate and he only had to eat it.",
      "hidden": "humbly said"
    },
    {
      "korean": "이 말은 손흥민의 완벽한 패스를 칭찬한 것이다.",
      "english": "This comment was a compliment to Son Heung-min’s perfect pass.",
      "hidden": "compliment"
    },
    {
      "korean": "손흥민은 행복한 축구를 하는 것처럼 보였다.",
      "english": "Son Heung-min looked like he was playing happy football.",
      "hidden": "looked"
    },
    {
      "korean": "그는 은퇴를 하기 위해 미국에 간 것이 아니다.",
      "english": "He did not go to the U.S. to retire.",
      "hidden": "retire"
    },
    {
      "korean": "그는 새로운 역사를 쓰기 위해 갔다.",
      "english": "He went there to make new history.",
      "hidden": "make new history"
    }
  ]
},

{
  "date": "August 17th, 2025",
  "title": "호텔 로비 공연 (Hotel Lobby Performance)",
  "sentences": [
    {
      "korean": "호텔 로비에서 가수가 노래를 부르고 있었다.",
      "english": "A singer was singing in the hotel lobby.",
      "hidden": "was singing"
    },
    {
      "korean": "사람들은 테이블에 앉아 있었다.",
      "english": "People were sitting at the tables.",
      "hidden": "were sitting"
    },
    {
      "korean": "그들은 음식을 먹고 있었다.",
      "english": "They were eating food.",
      "hidden": "were eating"
    },
    {
      "korean": "또한 와인을 마시고 있었다.",
      "english": "They were also drinking wine.",
      "hidden": "were drinking"
    },
    {
      "korean": "창문 너머로 한강이 보였다.",
      "english": "The Han River was visible through the window.",
      "hidden": "was visible"
    },
    {
      "korean": "불빛이 물 위에서 반짝였다.",
      "english": "Lights were shining on the water.",
      "hidden": "were shining"
    },
    {
      "korean": "아이들은 조용히 음악을 듣고 있었다.",
      "english": "Children were quietly listening to the music.",
      "hidden": "were listening"
    },
    {
      "korean": "어른들은 웃으며 대화를 나누었다.",
      "english": "Adults talked and laughed together.",
      "hidden": "talked and laughed"
    },
    {
      "korean": "휴가의 끝이 다가오고 있었다.",
      "english": "The end of the vacation was coming soon.",
      "hidden": "was coming"
    },
    {
      "korean": "사람들은 편안하고 행복해 보였다.",
      "english": "People looked relaxed and happy.",
      "hidden": "looked"
    }
  ]
}
,
    
    {
        "date": "August 17th, 2025",
        "title": "아파트 화재 사고 (Apartment Fire Accident)",
        "sentences": [
            {
                "korean": "아파트에서 화재가 발생했다.",
                "english": "A fire broke out in an apartment building.",
                "hidden": "broke out"
            },
            {
                "korean": "검은 연기가 아파트에서 나오는 것을 사람들이 보았다.",
                "english": "People saw black smoke coming from the apartment building.",
                "hidden": "saw"
            },
            {
                "korean": "사람들이 즉시 소방서에 신고했다.",
                "english": "People immediately reported it to the fire station.",
                "hidden": "reported"
            },
            {
                "korean": "소방인력 수백명이 현장에 투입되었다.",
                "english": "Hundreds of firefighters were dispatched to the scene.",
                "hidden": "were dispatched"
            },
            {
                "korean": "화재로 인해 2명이 숨졌다.",
                "english": "Two people died because of the fire.",
                "hidden": "died"
            },
            {
                "korean": "13명이 다쳤다.",
                "english": "Thirteen people were injured.",
                "hidden": "were injured"
            },
            {
                "korean": "부상자들은 병원으로 이송되었다.",
                "english": "The injured people were transported to hospitals.",
                "hidden": "were transported"
            },
            {
                "korean": "일부 부상자는 현장에서 응급처치를 받았다.",
                "english": "Some injured people received emergency treatment at the scene.",
                "hidden": "received"
            }
        ]
    },
    {
        "date": "August 17th, 2024",
        "title": "헬스장 운동 루틴 (My Gym Workout Routine)",
        "sentences": [
            {
                "korean": "오늘은 정기적인 운동 세션을 위해 헬스장에 갔다.",
                "english": "I went to the gym for my regular workout session.",
                "hidden": "went"
            },
            {
                "korean": "러닝머신에서 10분 정도 워밍업을 시작했다.",
                "english": "I started with a warm-up on the treadmill for about 10 minutes.",
                "hidden": "started"
            },
            {
                "korean": "그 다음 웨이트 트레이닝 구역으로 이동해서 덤벨로 벤치프레스를 했다.",
                "english": "Then I moved to the weight training area where I did some bench presses with dumbbells.",
                "hidden": "moved"
            },
            {
                "korean": "헬스장이 꽤 혼잡해서 장비를 기다려야 했다.",
                "english": "The gym was quite crowded today, so I had to wait a bit for the equipment.",
                "hidden": "had to wait"
            },
            {
                "korean": "스쿼트와 데드리프트도 해서 하체 근력을 키웠다.",
                "english": "I also did some squats and deadlifts to work on my lower body strength.",
                "hidden": "did"
            },
            {
                "korean": "개인 트레이너가 올바른 자세에 대한 좋은 조언을 해줬다.",
                "english": "My personal trainer gave me some great advice on proper form.",
                "hidden": "gave"
            },
            {
                "korean": "웨이트 운동 후에는 엘립티컬 머신에서 20분간 유산소 운동을 했다.",
                "english": "After the weights, I did some cardio on the elliptical machine for 20 minutes.",
                "hidden": "did"
            },
            {
                "korean": "오늘은 정말 동기부여가 되어서 평소보다 더 열심히 했다.",
                "english": "I was feeling really motivated today, so I pushed myself harder than usual.",
                "hidden": "pushed"
            },
            {
                "korean": "운동이 꽤 격렬했지만 지금은 정말 기분이 좋다!",
                "english": "The workout was quite intense, but I feel amazing now!",
                "hidden": "feel"
            }
        ]
    },
    {
        "date": "August 18th, 2024",
        "title": "수영장에서 수영하기 (Swimming at the Pool)",
        "sentences": [
            {
                "korean": "오늘은 지역 수영장에 수영하러 갔다.",
                "english": "Today I went swimming at the local pool.",
                "hidden": "went"
            },
            {
                "korean": "물이 정말 시원하고 수영장이 꽤 넓었다.",
                "english": "The water was really refreshing and the pool was quite spacious.",
                "hidden": "was"
            },
            {
                "korean": "자유형으로 준비 운동 랩을 시작했다.",
                "english": "I started with some warm-up laps using the freestyle stroke.",
                "hidden": "started"
            },
            {
                "korean": "구조원이 매우 주의 깊게 지켜보고 모두가 안전한지 확인했다.",
                "english": "The lifeguard was very attentive and made sure everyone was safe.",
                "hidden": "made sure"
            },
            {
                "korean": "평영과 배영도 연습해서 기술을 향상시켰다.",
                "english": "I also practiced the breaststroke and backstroke to improve my technique.",
                "hidden": "practiced"
            },
            {
                "korean": "수영장에는 다양한 기술 수준에 맞는 레인이 있어서 매우 편리하다.",
                "english": "The pool has different lanes for different skill levels, which is very convenient.",
                "hidden": "has"
            },
            {
                "korean": "한 시간 정도 수영했고 나중에 정말 활력이 넘쳤다.",
                "english": "I swam for about an hour and felt really energized afterwards.",
                "hidden": "swam"
            },
            {
                "korean": "탈의실은 깨끗하고 잘 관리되고 있었다.",
                "english": "The changing rooms were clean and well-maintained.",
                "hidden": "were"
            },
            {
                "korean": "수영이 정말 훌륭한 전신 운동이라고 생각한다!",
                "english": "I think swimming is such a great full-body workout!",
                "hidden": "think"
            }
        ]
    },
    {
        "date": "August 19th, 2024",
        "title": "공원에서의 하루 (A Day at the Park)",
        "sentences": [
            {
                "korean": "어제는 도시 공원에서 멋진 오후를 보냈다.",
                "english": "Yesterday I spent a wonderful afternoon at the city park.",
                "hidden": "spent"
            },
            {
                "korean": "날씨가 완벽했고 맑은 하늘과 부드러운 바람이 있었다.",
                "english": "The weather was perfect with clear blue skies and a gentle breeze.",
                "hidden": "was"
            },
            {
                "korean": "샌드위치와 과일이 든 피크닉 바구니를 가져왔다.",
                "english": "I brought a picnic basket with sandwiches and fruit.",
                "hidden": "brought"
            },
            {
                "korean": "아이들이 그네와 미끄럼틀에서 놀고 있는 많은 가족들이 있었다.",
                "english": "There were many families with children playing on the swings and slides.",
                "hidden": "were"
            },
            {
                "korean": "큰 참나무 아래에 앉아서 좋아하는 책을 읽었다.",
                "english": "I sat under a big oak tree and read my favorite book.",
                "hidden": "sat"
            },
            {
                "korean": "개를 산책시키는 사람들도 있었고, 다른 사람들은 잔디에서 프리스비를 하고 있었다.",
                "english": "Some people were walking their dogs, and others were playing frisbee on the grass.",
                "hidden": "were walking"
            },
            {
                "korean": "호수 근처에서 바베큐를 하는 친구들도 보았다.",
                "english": "I also saw a group of friends having a barbecue near the lake.",
                "hidden": "saw"
            },
            {
                "korean": "공원은 생명과 행복으로 가득했다.",
                "english": "The park was full of life and happiness.",
                "hidden": "was"
            },
            {
                "korean": "정말 평화롭고 편안했다.",
                "english": "I felt so peaceful and relaxed.",
                "hidden": "felt"
            },
            {
                "korean": "일요일 오후를 보내는 완벽한 방법이었다!",
                "english": "It was the perfect way to spend a Sunday afternoon!",
                "hidden": "was"
            }
        ]
    },
    {
        "date": "August 20th, 2024",
        "title": "저녁 요리하기 (Cooking Dinner)",
        "sentences": [
            {
                "korean": "오늘 밤에는 가족을 위해 저녁을 요리하기로 했다.",
                "english": "Tonight I decided to cook dinner for my family.",
                "hidden": "decided"
            },
            {
                "korean": "모두가 좋아하는 토마토 소스 스파게티를 만들기로 선택했다.",
                "english": "I chose to make spaghetti with tomato sauce because it's everyone's favorite.",
                "hidden": "chose"
            },
            {
                "korean": "먼저 큰 냄비에 물을 끓이고 소금을 넣었다.",
                "english": "First, I boiled water in a large pot and added salt.",
                "hidden": "boiled"
            },
            {
                "korean": "그 다음 끓는 물에 스파게티 면을 넣었다.",
                "english": "Then I put the spaghetti noodles in the boiling water.",
                "hidden": "put"
            },
            {
                "korean": "파스타가 익는 동안 신선한 토마토, 마늘, 허브로 소스를 준비했다.",
                "english": "While the pasta was cooking, I prepared the sauce with fresh tomatoes, garlic, and herbs.",
                "hidden": "prepared"
            },
            {
                "korean": "양상추, 오이, 당근으로 간단한 그린 샐러드도 만들었다.",
                "english": "I also made a simple green salad with lettuce, cucumber, and carrots.",
                "hidden": "made"
            },
            {
                "korean": "요리 냄새로 부엌이 놀라웠다.",
                "english": "The kitchen smelled amazing with all the cooking aromas.",
                "hidden": "smelled"
            },
            {
                "korean": "가족들이 내가 만드는 것을 보자 정말 흥분했다.",
                "english": "My family was very excited when they saw what I was making.",
                "hidden": "was"
            },
            {
                "korean": "우리 모두 식탁에 함께 앉아서 식사를 즐겼다.",
                "english": "We all sat together at the dining table and enjoyed the meal.",
                "hidden": "sat"
            },
            {
                "korean": "다른 사람을 위해 요리하는 것은 정말 보람 있는 경험이다!",
                "english": "Cooking for others is such a rewarding experience!",
                "hidden": "is"
            }
        ]
    },
    {
        "date": "August 21st, 2024",
        "title": "쇼핑몰에서 쇼핑하기 (Shopping at the Mall)",
        "sentences": [
            {
                "korean": "오늘은 가장 친한 친구와 함께 지역 쇼핑몰에 쇼핑하러 갔다.",
                "english": "Today I went shopping at the local mall with my best friend.",
                "hidden": "went"
            },
            {
                "korean": "다양한 매장에서 옷을 보는 것부터 시작했다.",
                "english": "We started by looking at clothes in different stores.",
                "hidden": "started"
            },
            {
                "korean": "세일 중인 예쁜 파란색 셔츠를 찾아서 샀다.",
                "english": "I found a nice blue shirt that was on sale, so I bought it.",
                "hidden": "found"
            },
            {
                "korean": "친구는 여러 드레스를 입어봤지만 어떤 것을 살지 결정하지 못했다.",
                "english": "My friend tried on several dresses but couldn't decide which one to get.",
                "hidden": "tried"
            },
            {
                "korean": "서점도 방문해서 읽을 새 소설을 샀다.",
                "english": "We also visited the bookstore where I bought a new novel to read.",
                "hidden": "visited"
            },
            {
                "korean": "점심에는 푸드코트에서 먹었다.",
                "english": "For lunch, we ate at the food court.",
                "hidden": "ate"
            },
            {
                "korean": "나는 맛있는 버거와 감자튀김을 먹었고, 친구는 피자를 주문했다.",
                "english": "I had a delicious burger and fries, and my friend ordered pizza.",
                "hidden": "had"
            },
            {
                "korean": "점심 후에는 쇼핑몰을 돌아다니며 쇼윈도우를 구경했다.",
                "english": "After lunch, we walked around the mall and looked at the window displays.",
                "hidden": "walked"
            },
            {
                "korean": "집에 가기 전에 커피숍에 들러서 핫초코를 마셨다.",
                "english": "We stopped at the coffee shop for some hot chocolate before heading home.",
                "hidden": "stopped"
            },
            {
                "korean": "좋은 친구와 함께한 재미있는 하루였다!",
                "english": "It was a fun day spent with good company!",
                "hidden": "was"
            }
        ]
    }
];

let currentArticleIndex = 0;

// DOM 요소들
const articleContainer = document.getElementById('article-container');
const wordPopup = document.getElementById('wordPopup');
const popupWord = document.querySelector('.popup-word');
const popupMeaning = document.querySelector('.popup-meaning');
const popupClose = document.querySelector('.popup-close');

// 모든 글 표시
function displayAllArticles() {
    let allArticlesHTML = '';
    
    articles.forEach((article, index) => {
        let sentencesHTML = '';
        article.sentences.forEach((sentence, index) => {
            const englishWithHidden = sentence.english.replace(sentence.hidden, `<span class="hidden-word" data-word="${sentence.hidden}">_____</span>`);
            sentencesHTML += `
                <div class="sentence-pair">
                    <div class="korean-sentence">${sentence.korean}</div>
                    <div class="english-sentence">
                        <span class="english-text">${englishWithHidden}</span>
                        <button class="show-word-btn" onclick="showHiddenWord(this, '${sentence.hidden}')">👁️</button>
                    </div>
                </div>
            `;
        });
        
        allArticlesHTML += `
            <div class="article">
                <div class="article-date">${article.date}</div>
                <h2 class="article-title">${article.title}</h2>
                <div class="sentences-container">
                    ${sentencesHTML}
                </div>
            </div>
        `;
    });
    
    articleContainer.innerHTML = allArticlesHTML;
}



// 초기화
function init() {
    displayAllArticles();
}

// 이벤트 리스너 등록
document.addEventListener('DOMContentLoaded', function() {
    // 단어장 초기화
    init();
    
    // 팝업 관련 이벤트
    popupClose.addEventListener('click', closePopup);
    
    // 팝업 외부 클릭 시 닫기
    wordPopup.addEventListener('click', function(e) {
        if (e.target === wordPopup) {
            closePopup();
        }
    });
});

// 단어 뜻 가져오기 (실제로는 사전 API 사용)
async function getWordMeaning(word) {
    // 예시 단어 뜻들
    const meanings = {
        'amazing': '놀라운, 훌륭한',
        'beautiful': '아름다운',
        'wonderful': '훌륭한, 멋진',
        'fantastic': '환상적인, 훌륭한',
        'excellent': '훌륭한, 우수한',
        'perfect': '완벽한',
        'great': '훌륭한, 좋은',
        'good': '좋은',
        'nice': '좋은, 멋진',
        'happy': '행복한',
        'sad': '슬픈',
        'angry': '화난',
        'excited': '흥분한',
        'tired': '피곤한',
        'hungry': '배고픈',
        'thirsty': '목마른',
        'library': '도서관',
        'book': '책',
        'read': '읽다',
        'write': '쓰다',
        'study': '공부하다',
        'learn': '배우다',
        'teach': '가르치다',
        'school': '학교',
        'university': '대학교',
        'student': '학생',
        'teacher': '선생님',
        'friend': '친구',
        'family': '가족',
        'home': '집',
        'house': '집',
        'car': '자동차',
        'bus': '버스',
        'train': '기차',
        'plane': '비행기',
        'food': '음식',
        'water': '물',
        'coffee': '커피',
        'tea': '차',
        'breakfast': '아침식사',
        'lunch': '점심식사',
        'dinner': '저녁식사',
        'work': '일하다',
        'job': '직업',
        'money': '돈',
        'time': '시간',
        'day': '하루',
        'night': '밤',
        'morning': '아침',
        'afternoon': '오후',
        'evening': '저녁',
        'week': '주',
        'month': '월',
        'year': '년',
        'today': '오늘',
        'yesterday': '어제',
        'tomorrow': '내일',
        'weather': '날씨',
        'sunny': '맑은',
        'rainy': '비오는',
        'cloudy': '흐린',
        'cold': '추운',
        'hot': '더운',
        'warm': '따뜻한',
        'cool': '시원한'
    };
    
    return meanings[word] || '의미를 찾을 수 없습니다';
}

// 단어 뜻 팝업 표시
function showWordMeaning(event) {
    const word = event.target.dataset.word || event.target.textContent;
    const meaning = event.target.dataset.meaning || getWordMeaning(word);
    
    popupWord.textContent = word;
    popupMeaning.textContent = meaning;
    wordPopup.style.display = 'flex';
}

// 팝업 닫기
function closePopup() {
    wordPopup.style.display = 'none';
}

// 키보드 단축키
document.addEventListener('keydown', function(e) {
    // Escape로 팝업 닫기
    if (e.key === 'Escape') {
        closePopup();
    }
});

// 숨겨진 단어 보여주기 함수
function showHiddenWord(button, word) {
    const hiddenSpan = button.parentElement.querySelector('.hidden-word');
    if (hiddenSpan) {
        hiddenSpan.textContent = word;
        hiddenSpan.classList.add('revealed');
        button.style.display = 'none';
    }
}
